{"version":3,"sources":["../../../../app/noticias/%5Bslug%5D/page.tsx"],"sourcesContent":["\"use client\";\nimport React from \"react\";\nimport { useParams } from \"next/navigation\";\nimport { redirect } from \"next/navigation\";\nimport Link from \"next/link\";\nimport { Section } from \"/components/ui/custom-section\";\nimport { Container } from \"/components/ui/custom-container\";\nimport { newsData } from \"/data/news\";\nimport svgPaths from \"/imports/svg-lteuacjx2u\";\nconst coverImage = \"/src/assets/hero-video.jpg\";\nimport ArticulosRelacionados from \"/imports/ArticulosRelacionados\";\nimport { noticiaDetalleTexts } from \"/constants/noticias\";\n\nexport default function NoticiaDetalle() {\n  const { slug } = useParams<{ slug: string }>();\n  const newsItem = newsData.find(item => item.id === slug);\n  const [scrollProgress, setScrollProgress] = React.useState(0);\n  const [isNearEnd, setIsNearEnd] = React.useState(false);\n  const contentRef = React.useRef<HTMLDivElement>(null);\n\n  React.useEffect(() => {\n    const handleScroll = () => {\n      if (!contentRef.current) return;\n\n      const contentElement = contentRef.current;\n      const contentRect = contentElement.getBoundingClientRect();\n      const contentTop = contentElement.offsetTop;\n      const contentHeight = contentElement.offsetHeight;\n      const windowHeight = window.innerHeight;\n      const scrollTop = window.scrollY;\n\n      // Calcular el progreso basado en el contenido principal\n      // Empieza a contar cuando el contenido entra al viewport\n      // Termina al 100% cuando el final del contenido llega al final del viewport\n      const scrollStart = contentTop;\n      const scrollEnd = contentTop + contentHeight - windowHeight;\n      const scrollRange = scrollEnd - scrollStart;\n\n      if (scrollTop < scrollStart) {\n        setScrollProgress(0);\n      } else if (scrollTop > scrollEnd) {\n        setScrollProgress(100);\n      } else {\n        const progress = ((scrollTop - scrollStart) / scrollRange) * 100;\n        setScrollProgress(Math.min(Math.max(progress, 0), 100));\n      }\n\n      // Mostrar botÃ³n cuando el usuario ha scrolleado al menos 50% del contenido\n      const overallProgress = (scrollTop / (document.documentElement.scrollHeight - windowHeight)) * 100;\n      setIsNearEnd(overallProgress >= 50);\n    };\n\n    window.addEventListener('scroll', handleScroll);\n    handleScroll(); // Calcular inicial\n    return () => window.removeEventListener('scroll', handleScroll);\n  }, []);\n\n  const handleCopyLink = () => {\n    navigator.clipboard.writeText(window.location.href);\n    alert(noticiaDetalleTexts.alerts.linkCopied);\n  };\n\n  const handleShareFacebook = () => {\n    window.open(`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}`, '_blank');\n  };\n\n  const handleShareLinkedIn = () => {\n    window.open(`https://www.linkedin.com/sharing/share-offsite/?url=${encodeURIComponent(window.location.href)}`, '_blank');\n  };\n\n  if (!newsItem) {\n    redirect(\"/noticias\");\n  }\n\n  return (\n    <div className=\"bg-white min-h-screen font-[Neue_Augenblick]\">\n      {/* Header Section */}\n      <Section className=\"pt-16 pb-0 md:pt-28 md:pb-6\">\n        <Container className=\"px-[20px] md:px-[50px]\">\n          <div className=\"relative w-full\">\n            {/* Back Button */}\n            <Link\n              href=\"/noticias\"\n              className=\"hidden md:flex absolute box-border content-stretch gap-[8px] items-center justify-center left-[51px] p-[10px] rounded-[40px] top-[20px] group hover:bg-gray-50 transition-colors z-10\"\n            >\n              <div aria-hidden=\"true\" className=\"absolute border-[1.5px] border-black border-solid inset-[-0.75px] pointer-events-none rounded-[40.75px]\" />\n              {/* Left Arrow Icon */}\n              <div className=\"overflow-clip relative shrink-0 size-[20px]\">\n                <div className=\"absolute flex inset-[20.81%_16.06%_20.86%_17.27%] items-center justify-center\">\n                  <div className=\"flex-none h-[12px] rotate-[180deg] w-[14px]\">\n                    <div className=\"relative size-full\">\n                      <div className=\"absolute inset-[-2.84%_-8.04%_-2.84%_-5.68%]\">\n                        <svg className=\"block size-full\" fill=\"none\" preserveAspectRatio=\"none\" viewBox=\"0 0 17 16\">\n                          <path d={svgPaths.p3cf45500} stroke=\"black\" strokeLinejoin=\"round\" strokeWidth=\"1.5\" />\n                        </svg>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <p className=\"font-['Neue_Augenblick:Medium',sans-serif] leading-[18px] not-italic relative shrink-0 text-[16px] text-black text-center text-nowrap whitespace-pre\">{noticiaDetalleTexts.navigation.backToNews}</p>\n            </Link>\n\n            {/* Mobile Back Button */}\n            <Link\n              href=\"/noticias\"\n              className=\"flex md:hidden mb-6 box-border content-stretch gap-[8px] items-center justify-start p-[10px] rounded-[40px] group hover:bg-gray-50 transition-colors w-fit relative\"\n            >\n              <div aria-hidden=\"true\" className=\"absolute border-[1.5px] border-black border-solid inset-[-0.75px] pointer-events-none rounded-[40.75px]\" />\n              {/* Left Arrow Icon */}\n              <div className=\"overflow-clip relative shrink-0 size-[20px]\">\n                <div className=\"absolute flex inset-[20.81%_16.06%_20.86%_17.27%] items-center justify-center\">\n                  <div className=\"flex-none h-[12px] rotate-[180deg] w-[14px]\">\n                    <div className=\"relative size-full\">\n                      <div className=\"absolute inset-[-2.84%_-8.04%_-2.84%_-5.68%]\">\n                        <svg className=\"block size-full\" fill=\"none\" preserveAspectRatio=\"none\" viewBox=\"0 0 17 16\">\n                          <path d={svgPaths.p3cf45500} stroke=\"black\" strokeLinejoin=\"round\" strokeWidth=\"1.5\" />\n                        </svg>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n              <p className=\"font-['Neue_Augenblick:Medium',sans-serif] leading-[18px] not-italic relative shrink-0 text-[16px] text-black text-center text-nowrap whitespace-pre\">{noticiaDetalleTexts.navigation.back}</p>\n            </Link>\n\n            {/* Title Section - Centered */}\n            <div className=\"flex flex-col items-center justify-center size-full\">\n              <div className=\"box-border content-stretch flex flex-col gap-[16px] md:gap-[24px] items-center justify-center not-italic pb-[40px] md:pb-[80px] pt-[20px] md:pt-[120px] px-[20px] md:px-[50px] relative text-center w-full\">\n                <p className=\"font-['Neue_Augenblick:Medium',sans-serif] leading-[18px] relative shrink-0 text-[14px] md:text-[16px] text-[rgba(73,73,73,0.5)] max-w-[351px]\">{newsItem.category}</p>\n                <p className=\"font-['Neue_Augenblick:Regular',sans-serif] leading-[1.1] md:leading-[67px] relative shrink-0 text-[32px] md:text-[50px] lg:text-[65px] text-black max-w-[773px]\">{newsItem.title}</p>\n              </div>\n            </div>\n          </div>\n        </Container>\n      </Section>\n\n      {/* Content Section */}\n      <Section className=\"pt-12 pb-32\">\n        <Container className=\"px-[20px] md:px-[50px]\">\n          <div className=\"max-w-[1400px] mx-auto\">\n            <div className=\"grid grid-cols-1 lg:grid-cols-12 gap-8 lg:gap-24\">\n\n              {/* Sidebar / Meta Column - Hidden on mobile, shown as sticky sidebar on desktop */}\n              <div className=\"hidden lg:block lg:col-span-3 relative\">\n                <div className=\"sticky top-32 content-stretch flex flex-col gap-[40px] lg:gap-[60px] items-start w-full max-h-[calc(100vh-10rem)] overflow-visible\">\n                  {/* Publicado el */}\n                  <p className=\"font-['Neue_Augenblick:Medium',sans-serif] leading-[18px] not-italic relative shrink-0 text-[16px] text-[rgba(73,73,73,0.5)] w-full\">\n                    {noticiaDetalleTexts.meta.publishedOn} {newsItem.date}\n                  </p>\n\n                  {/* Tiempo de Lectura - Progress Bar */}\n                  <div className=\"content-stretch flex flex-col gap-[8px] items-start justify-center relative shrink-0 w-full\">\n                    <p className=\"font-['Neue_Augenblick:Medium',sans-serif] leading-[18px] min-w-full not-italic relative shrink-0 text-[16px] text-[rgba(73,73,73,0.5)] w-[min-content]\">\n                      {noticiaDetalleTexts.meta.readingTime}\n                    </p>\n                    <div className=\"content-stretch flex flex-col gap-[14px] items-start relative shrink-0 w-full\">\n                      {/* Progress bar container */}\n                      <div className=\"w-full h-[40px] relative\">\n                        {/* Text */}\n                        <div className=\"absolute inset-0 flex items-center\">\n                          <div className=\"flex flex-col font-['Neue_Augenblick:Medium',sans-serif] justify-center leading-[0] not-italic relative text-[22px] text-nowrap\">\n                            <p className=\"leading-[24px] whitespace-pre\" style={{\n                              backgroundImage: `linear-gradient(to right, black ${scrollProgress}%, rgba(73,73,73,0.3) ${scrollProgress}%)`,\n                              WebkitBackgroundClip: 'text',\n                              WebkitTextFillColor: 'transparent',\n                              backgroundClip: 'text'\n                            }}>\n                              {noticiaDetalleTexts.meta.minutes}\n                            </p>\n                          </div>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  {/* Compartir */}\n                  <div className=\"content-stretch flex flex-col gap-[8px] items-start justify-center relative shrink-0 w-full\">\n                    <p className=\"font-['Neue_Augenblick:Medium',sans-serif] leading-[18px] min-w-full not-italic relative shrink-0 text-[16px] text-[rgba(73,73,73,0.5)] w-[min-content]\">\n                      {noticiaDetalleTexts.sharing.share}\n                    </p>\n                    <div className=\"content-stretch flex flex-col gap-[14px] items-start relative shrink-0\">\n                      {/* Facebook */}\n                      <button\n                        onClick={handleShareFacebook}\n                        className=\"box-border content-stretch flex gap-[12px] items-start px-0 py-[8px] relative shrink-0 cursor-pointer hover:opacity-60 transition-opacity\"\n                      >\n                        <div className=\"flex flex-col font-['Neue_Augenblick:Medium',sans-serif] justify-center leading-[0] not-italic relative shrink-0 text-[22px] text-black text-nowrap\">\n                          <p className=\"leading-[24px] whitespace-pre\">{noticiaDetalleTexts.sharing.facebook}</p>\n                        </div>\n                      </button>\n\n                      {/* LinkedIn */}\n                      <button\n                        onClick={handleShareLinkedIn}\n                        className=\"box-border content-stretch flex gap-[12px] items-start px-0 py-[8px] relative shrink-0 cursor-pointer hover:opacity-60 transition-opacity\"\n                      >\n                        <div className=\"flex flex-col font-['Neue_Augenblick:Medium',sans-serif] justify-center leading-[0] not-italic relative shrink-0 text-[22px] text-black text-nowrap\">\n                          <p className=\"leading-[24px] whitespace-pre\">{noticiaDetalleTexts.sharing.linkedin}</p>\n                        </div>\n                      </button>\n\n                      {/* Copiar enlace */}\n                      <button\n                        onClick={handleCopyLink}\n                        className=\"box-border content-stretch flex gap-[12px] items-start px-0 py-[8px] relative shrink-0 cursor-pointer hover:opacity-60 transition-opacity\"\n                      >\n                        <div className=\"flex flex-col font-['Neue_Augenblick:Medium',sans-serif] justify-center leading-[0] not-italic relative shrink-0 text-[22px] text-black text-nowrap\">\n                          <p className=\"leading-[24px] whitespace-pre\">{noticiaDetalleTexts.sharing.copyLink}</p>\n                        </div>\n                      </button>\n                    </div>\n                  </div>\n\n                  {/* Contactar un asesor */}\n                  {isNearEnd && (\n                    <div className=\"content-stretch flex flex-col gap-[20px] items-start justify-center relative shrink-0 w-full transition-all duration-700 ease-in-out animate-in fade-in slide-in-from-bottom-4\">\n                      <p className=\"font-['Neue_Augenblick:Medium',sans-serif] leading-[18px] not-italic relative shrink-0 text-[16px] text-[rgba(73,73,73,0.5)] text-nowrap whitespace-pre\">\n                        {noticiaDetalleTexts.cta.letsTalk}\n                      </p>\n                      <Link\n                        href=\"/contacto\"\n                        className=\"box-border content-stretch flex gap-[12px] items-center justify-center p-[16px] relative rounded-[30px] shrink-0 cursor-pointer hover:bg-gray-50 transition-colors\"\n                      >\n                        <div aria-hidden=\"true\" className=\"absolute border-[1.5px] border-black border-solid inset-[-0.75px] pointer-events-none rounded-[30.75px]\" />\n                        <p className=\"font-['Neue_Augenblick:Medium',sans-serif] leading-[24px] not-italic relative shrink-0 text-[24px] text-black text-center text-nowrap whitespace-pre\">\n                          {noticiaDetalleTexts.cta.contactAdvisor}\n                        </p>\n                      </Link>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Main Content Column */}\n              <div className=\"lg:col-span-8 lg:col-start-5 flex flex-col gap-12 w-full\" ref={contentRef}>\n                {/* Mobile Meta Info - Only visible on mobile */}\n                <div className=\"lg:hidden flex flex-col gap-6 pb-6 border-b border-gray-200\">\n                  <p className=\"font-['Neue_Augenblick:Medium',sans-serif] text-[14px] text-[rgba(73,73,73,0.5)]\">\n                    {noticiaDetalleTexts.meta.publishedOn} {newsItem.date}\n                  </p>\n\n                  {/* Mobile Reading Time */}\n                  <div className=\"flex flex-col gap-2\">\n                    <p className=\"font-['Neue_Augenblick:Medium',sans-serif] text-[14px] text-[rgba(73,73,73,0.5)]\">\n                      {noticiaDetalleTexts.meta.readingTime}\n                    </p>\n                    <p className=\"font-['Neue_Augenblick:Medium',sans-serif] text-[20px] text-black\">\n                      {noticiaDetalleTexts.meta.minutes}\n                    </p>\n                  </div>\n                </div>\n\n                {/* Cover Image */}\n                <div className=\"w-full overflow-hidden rounded-sm\">\n                   <img\n                     src={coverImage}\n                     alt={noticiaDetalleTexts.images.coverAlt}\n                     className=\"w-full h-auto lg:h-[500px] object-cover\"\n                   />\n                </div>\n\n                {/* Lead Paragraph */}\n                <p className=\"text-2xl md:text-3xl lg:text-4xl font-light leading-tight text-black\">\n                  {newsItem.excerpt}\n                </p>\n\n                {/* Body Content */}\n                <div className=\"text-lg md:text-xl font-light leading-relaxed text-gray-800 flex flex-col gap-8\">\n                    <div\n                      className=\"prose prose-lg max-w-none prose-headings:font-normal prose-headings:text-black prose-headings:text-2xl prose-headings:mt-8 prose-headings:mb-4 prose-p:text-gray-600 prose-p:font-light prose-p:leading-relaxed prose-strong:font-medium prose-strong:text-black\"\n                      dangerouslySetInnerHTML={{ __html: newsItem.content || \"\" }}\n                    />\n\n                    {/* Pull Quote - Standardized */}\n                    <div className=\"my-12 pl-6 border-l-4 border-[#59c1e6]\">\n                       <h3 className=\"text-3xl md:text-4xl lg:text-5xl leading-tight font-normal text-black tracking-tight\">\n                         {noticiaDetalleTexts.content.pullQuote}\n                       </h3>\n                    </div>\n\n                    <p>\n                      {noticiaDetalleTexts.content.paragraph}\n                    </p>\n                </div>\n\n                {/* Bottom Image */}\n                <div className=\"w-full h-[400px] overflow-hidden rounded-sm mt-8\">\n                   <img\n                     src={coverImage}\n                     alt={noticiaDetalleTexts.images.detailsAlt}\n                     className=\"w-full h-full object-cover\"\n                   />\n                </div>\n\n                {/* Mobile Share Section - At the end of article */}\n                <div className=\"lg:hidden flex flex-col gap-6 pt-6 mt-6 border-t border-gray-200\">\n                  <p className=\"font-['Neue_Augenblick:Medium',sans-serif] text-[14px] text-[rgba(73,73,73,0.5)]\">\n                    {noticiaDetalleTexts.mobileSharing.shareArticle}\n                  </p>\n\n                  {/* Mobile Share Buttons */}\n                  <div className=\"flex gap-4 flex-wrap\">\n                    <button\n                      onClick={handleShareFacebook}\n                      className=\"px-4 py-2 border border-black rounded-full text-sm hover:bg-gray-50 transition-colors\"\n                    >\n                      {noticiaDetalleTexts.mobileSharing.shareOnFacebook}\n                    </button>\n                    <button\n                      onClick={handleShareLinkedIn}\n                      className=\"px-4 py-2 border border-black rounded-full text-sm hover:bg-gray-50 transition-colors\"\n                    >\n                      {noticiaDetalleTexts.mobileSharing.shareOnLinkedIn}\n                    </button>\n                    <button\n                      onClick={handleCopyLink}\n                      className=\"px-4 py-2 border border-black rounded-full text-sm hover:bg-gray-50 transition-colors\"\n                    >\n                      {noticiaDetalleTexts.mobileSharing.copyLink}\n                    </button>\n                  </div>\n                </div>\n\n                {/* Mobile CTA Button - Only visible on mobile when scrolled */}\n                {isNearEnd && (\n                  <div className=\"lg:hidden fixed bottom-6 left-0 right-0 px-6 z-40 animate-in fade-in slide-in-from-bottom-4\">\n                    <Link\n                      href=\"/contacto\"\n                      className=\"w-full block text-center px-8 py-4 bg-black text-white rounded-full text-lg font-medium hover:bg-gray-800 transition-colors shadow-lg\"\n                    >\n                      {noticiaDetalleTexts.cta.contactAdvisor}\n                    </Link>\n                  </div>\n                )}\n              </div>\n\n            </div>\n          </div>\n        </Container>\n      </Section>\n\n      {/* Related Articles Section */}\n      <ArticulosRelacionados />\n    </div>\n  );\n}"],"names":[],"mappings":"kDACA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAEA,EAAA,CAAA,CAAA"}